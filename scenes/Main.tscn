[gd_scene load_steps=54 format=3 uid="uid://d6bdm2tr3ba2"]

[ext_resource type="Script" uid="uid://cf3w4tlsink2p" path="res://scenes/Main.gd" id="1_elqb8"]
[ext_resource type="Texture2D" uid="uid://cg0cekvm6clmc" path="res://art/fantasy/world/battleback10.png" id="3_c01mt"]
[ext_resource type="PackedScene" uid="uid://ce0k681xxu2oe" path="res://actors/ui/TroopDisplay.tscn" id="3_rarhs"]
[ext_resource type="Script" uid="uid://ds1qcu5hqwtdk" path="res://scenes/Ui.gd" id="3_vcsgt"]
[ext_resource type="Texture2D" uid="uid://2rm6ov75d0kb" path="res://art/fx/portal/Portal_100x100px.png" id="5_vcsgt"]
[ext_resource type="PackedScene" uid="uid://dr3dvibh1feqh" path="res://actors/entities/Tower.tscn" id="6_c01mt"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_vcsgt"]
bg_color = Color(0.156863, 0.156863, 0.156863, 0.670588)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_c01mt"]
bg_color = Color(0.680235, 0.360549, 0.806713, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_c01mt"]
atlas = ExtResource("5_vcsgt")
region = Rect2(0, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_nxtc6"]
atlas = ExtResource("5_vcsgt")
region = Rect2(100, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_jlsqs"]
atlas = ExtResource("5_vcsgt")
region = Rect2(200, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_q8u5g"]
atlas = ExtResource("5_vcsgt")
region = Rect2(300, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_lhr70"]
atlas = ExtResource("5_vcsgt")
region = Rect2(400, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_wp0k4"]
atlas = ExtResource("5_vcsgt")
region = Rect2(500, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_bjd11"]
atlas = ExtResource("5_vcsgt")
region = Rect2(600, 0, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_qmy6f"]
atlas = ExtResource("5_vcsgt")
region = Rect2(0, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_mwfav"]
atlas = ExtResource("5_vcsgt")
region = Rect2(100, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_3p2gp"]
atlas = ExtResource("5_vcsgt")
region = Rect2(200, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_cvmbd"]
atlas = ExtResource("5_vcsgt")
region = Rect2(300, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_ft6cd"]
atlas = ExtResource("5_vcsgt")
region = Rect2(400, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_bb450"]
atlas = ExtResource("5_vcsgt")
region = Rect2(500, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_nfivy"]
atlas = ExtResource("5_vcsgt")
region = Rect2(600, 100, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_1nqs0"]
atlas = ExtResource("5_vcsgt")
region = Rect2(0, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_1iba3"]
atlas = ExtResource("5_vcsgt")
region = Rect2(100, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_yxlcp"]
atlas = ExtResource("5_vcsgt")
region = Rect2(200, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_ebg2g"]
atlas = ExtResource("5_vcsgt")
region = Rect2(300, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_2ofn6"]
atlas = ExtResource("5_vcsgt")
region = Rect2(400, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_xa025"]
atlas = ExtResource("5_vcsgt")
region = Rect2(500, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_36rkl"]
atlas = ExtResource("5_vcsgt")
region = Rect2(600, 200, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_fs0b5"]
atlas = ExtResource("5_vcsgt")
region = Rect2(0, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_ma7h6"]
atlas = ExtResource("5_vcsgt")
region = Rect2(100, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_e2s0e"]
atlas = ExtResource("5_vcsgt")
region = Rect2(200, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_gsxep"]
atlas = ExtResource("5_vcsgt")
region = Rect2(300, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_v0vrg"]
atlas = ExtResource("5_vcsgt")
region = Rect2(400, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_dg70y"]
atlas = ExtResource("5_vcsgt")
region = Rect2(500, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_pnhog"]
atlas = ExtResource("5_vcsgt")
region = Rect2(600, 300, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_2c4at"]
atlas = ExtResource("5_vcsgt")
region = Rect2(0, 400, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_g6wdg"]
atlas = ExtResource("5_vcsgt")
region = Rect2(100, 400, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_hq6as"]
atlas = ExtResource("5_vcsgt")
region = Rect2(200, 400, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_kxyth"]
atlas = ExtResource("5_vcsgt")
region = Rect2(300, 400, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_cobve"]
atlas = ExtResource("5_vcsgt")
region = Rect2(400, 400, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_cmqll"]
atlas = ExtResource("5_vcsgt")
region = Rect2(500, 400, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_8cp6k"]
atlas = ExtResource("5_vcsgt")
region = Rect2(600, 400, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_8b871"]
atlas = ExtResource("5_vcsgt")
region = Rect2(0, 500, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_pdwbg"]
atlas = ExtResource("5_vcsgt")
region = Rect2(100, 500, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_5grtr"]
atlas = ExtResource("5_vcsgt")
region = Rect2(200, 500, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_vua0o"]
atlas = ExtResource("5_vcsgt")
region = Rect2(300, 500, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_t70y2"]
atlas = ExtResource("5_vcsgt")
region = Rect2(400, 500, 100, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_8gny2"]
atlas = ExtResource("5_vcsgt")
region = Rect2(500, 500, 100, 100)

[sub_resource type="SpriteFrames" id="SpriteFrames_s3wmy"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_c01mt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nxtc6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jlsqs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q8u5g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lhr70")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wp0k4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bjd11")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qmy6f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mwfav")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3p2gp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cvmbd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ft6cd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bb450")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nfivy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1nqs0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1iba3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yxlcp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ebg2g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ofn6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xa025")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_36rkl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fs0b5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ma7h6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e2s0e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gsxep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v0vrg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dg70y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pnhog")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2c4at")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g6wdg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hq6as")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kxyth")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cobve")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cmqll")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8cp6k")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8b871")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pdwbg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5grtr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vua0o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_t70y2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8gny2")
}],
"loop": true,
"name": &"default",
"speed": 40.0
}]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_nxtc6"]
bg_color = Color(0.235294, 0.235294, 0.235294, 0.639216)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jlsqs"]
bg_color = Color(0.371437, 0.59925, 0.280427, 1)

[sub_resource type="CircleShape2D" id="CircleShape2D_vcsgt"]
radius = 18.8962

[node name="Main" type="Node2D"]
script = ExtResource("1_elqb8")

[node name="Background" type="CanvasLayer" parent="."]
layer = -1
visible = false

[node name="TextureRect2" type="TextureRect" parent="Background"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -16.0
offset_top = -9.0
offset_right = 16.0
offset_bottom = 9.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("3_c01mt")
expand_mode = 1
stretch_mode = 5

[node name="UI" type="CanvasLayer" parent="."]
process_mode = 3
layer = 101
script = ExtResource("3_vcsgt")

[node name="TroopDisplayBox" type="HBoxContainer" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -186.0
offset_top = -39.0
offset_right = 186.0
offset_bottom = -6.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1

[node name="TroopDisplay" parent="UI/TroopDisplayBox" instance=ExtResource("3_rarhs")]
layout_mode = 2

[node name="TroopDisplay2" parent="UI/TroopDisplayBox" instance=ExtResource("3_rarhs")]
layout_mode = 2

[node name="TroopDisplay3" parent="UI/TroopDisplayBox" instance=ExtResource("3_rarhs")]
layout_mode = 2

[node name="TroopDisplay4" parent="UI/TroopDisplayBox" instance=ExtResource("3_rarhs")]
layout_mode = 2

[node name="TroopDisplay5" parent="UI/TroopDisplayBox" instance=ExtResource("3_rarhs")]
layout_mode = 2

[node name="DimensionProgress" type="ProgressBar" parent="UI"]
offset_left = 25.0
offset_top = 28.0
offset_right = 233.0
offset_bottom = 44.0
theme_override_styles/background = SubResource("StyleBoxFlat_vcsgt")
theme_override_styles/fill = SubResource("StyleBoxFlat_c01mt")
value = 40.0
show_percentage = false

[node name="Portal" type="AnimatedSprite2D" parent="UI/DimensionProgress"]
visible = false
position = Vector2(-25, 4)
sprite_frames = SubResource("SpriteFrames_s3wmy")
autoplay = "default"
frame_progress = 0.611899

[node name="Label" type="Label" parent="UI/DimensionProgress"]
layout_mode = 0
offset_left = 4.0
offset_top = -17.0
offset_right = 163.0
offset_bottom = -3.0
theme_override_colors/font_outline_color = Color(0.188235, 0.188235, 0.188235, 0.686275)
theme_override_constants/outline_size = 6
theme_override_font_sizes/font_size = 10
text = "Dimension Progress:"

[node name="Percentage" type="Label" parent="UI/DimensionProgress"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_left = 5.0
offset_top = -6.0
offset_right = 45.0
offset_bottom = 6.0
grow_vertical = 2
theme_override_font_sizes/font_size = 8
text = "40%"

[node name="Wave" type="Label" parent="UI/DimensionProgress"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = 4.0
offset_right = 43.0
offset_bottom = 15.0
grow_vertical = 0
theme_override_font_sizes/font_size = 7
text = "Wave 99"

[node name="NextDimension" type="Button" parent="UI/DimensionProgress"]
visible = false
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -117.0
offset_top = 4.0
offset_bottom = 24.0
grow_horizontal = 0
grow_vertical = 0
focus_mode = 0
theme_override_font_sizes/font_size = 8
text = "Go to next dimension"

[node name="Container" type="Node2D" parent="."]

[node name="Background" type="Sprite2D" parent="Container"]
z_index = -5
position = Vector2(263, 144)
scale = Vector2(0.502415, 0.502415)
texture = ExtResource("3_c01mt")

[node name="Portal" type="AnimatedSprite2D" parent="Container"]
position = Vector2(45, 196)
scale = Vector2(1.38, 1.38)
sprite_frames = SubResource("SpriteFrames_s3wmy")
autoplay = "default"
frame_progress = 0.954836

[node name="HP" type="ProgressBar" parent="Container/Portal"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -73.0
offset_top = -39.0
offset_right = -25.0
offset_bottom = -35.0
grow_horizontal = 2
theme_override_styles/background = SubResource("StyleBoxFlat_nxtc6")
theme_override_styles/fill = SubResource("StyleBoxFlat_jlsqs")
value = 40.0
show_percentage = false

[node name="Area2D" type="Area2D" parent="Container/Portal"]
collision_layer = 32
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Container/Portal/Area2D"]
shape = SubResource("CircleShape2D_vcsgt")

[node name="Tower" parent="Container" instance=ExtResource("6_c01mt")]
position = Vector2(102, 142)

[node name="SpawnPoint" type="Node2D" parent="Container"]
position = Vector2(45, 196)

[node name="EnemySpawnPoint" type="Node2D" parent="Container"]
position = Vector2(515, 196)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(221, 149)
zoom = Vector2(1.2, 1.2)

[connection signal="pressed" from="UI/DimensionProgress/NextDimension" to="." method="_on_next_dimension_pressed"]
